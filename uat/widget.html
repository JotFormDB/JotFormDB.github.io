<!DOCTYPE html>
<html>

<head>
    <script src="https://js.jotform.com/JotFormCustomWidget.min.js"></script>
    <script lang="javascript" src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
</head>

<body>
    <div id="main">
        <h3>Department finally working?</h3>
        <select name="cars" id="cars" onchange="change()">
            <option value="volvo">Volvo</option>
            <option value="saab">Saab</option>
            <option value="mercedes">Mercedes</option>
            <option value="audi">Audi</option>
        </select>
    </div>
    <script type="text/javascript">
        //always subscribe to ready event and implement widget related code
        //inside callback function , it is the best practice while developing widgets
        function change() {
            var select = document.getElementById('cars');
            var option = select.options[select.selectedIndex];
            fields = [];
            fields.push({
                label: "email2",
                value: option.value + "lalada"
            });
            JFCustomWidget.setFieldsValueByLabel(fields);
            names = ["email1"];
            JFCustomWidget.getFieldsValueByName(names, function (res) {
                for (i in res.data) {
                    console.lg(res.data[i].value);
                }
            });
        }

        JFCustomWidget.subscribe("ready", function () {
            JFCustomWidget.subscribe("submit", function () {
                var msg = {
                    //you should valid attribute to data for JotForm
                    //to be able to use youw widget as required
                    valid: true,
                    value: document.getElementById('cars').value
                }
                // send value to JotForm
                //JFCustomWidget.sendSubmit(msg);
            });
        });
    </script>
</body>

</html>